

---- 2024-06-05 00:18:11.836107
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:18:14.751817
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:18:16.847242
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:18:20.020705
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:18:22.310222
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:18:24.485785
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:18:26.514095
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:18:28.935954
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:18:31.330881
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:18:33.219549
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:18:49.275307
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:18:57.882611
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:00.011905
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:02.254145
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:04.546241
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:06.647989
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:08.570729
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:10.418910
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:12.529406
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:15.242662
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:43.599491
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:48.917241
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:50.978407
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:53.048038
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:55.430781
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:19:59.942436
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:20:01.804067
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:20:03.619479
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:20:05.702662
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:20:08.440559
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:21:00.562536
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:21:02.812993
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:21:05.383525
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:21:07.549645
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:21:11.640186
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:21:13.740551
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:21:15.593992
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:21:18.161486
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:21:20.561954
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:21:22.816366
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:23:05.046881
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:23:08.537507
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:23:10.326241
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:23:12.303729
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:23:14.300935
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:23:16.565366
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:23:18.675387
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:23:21.296264
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:23:23.265253
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:23:28.136857
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:26:51.814831
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:26:54.024319
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:26:56.177869
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:26:58.197987
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:27:02.309940
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:27:04.860895
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:27:07.171693
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:27:10.278105
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:27:13.078047
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}

---- 2024-06-05 00:27:35.307338
{"model": "gpt-4o-2024-05-13", "messages": [{"role": "user", "content": "Complete the following unit test function. Only write the completion; do NOT rewrite the function. Do NOT include any comments or description.\n# coding: utf-8\nfrom __future__ import unicode_literals\n\nimport json\nimport re\n\nfrom .common import InfoExtractor\nfrom ..utils import (\n    int_or_none,\n    parse_iso8601,\n    try_get,\n)\n\n\nclass TF1IE(InfoExtractor):\n    _VALID_URL = r'https?://(?:www\\.)?tf1\\.fr/[^/]+/(?P<program_slug>[^/]+)/videos/(?P<id>[^/?&#]+)\\.html'\n    _TESTS = [{\n        'url': 'https://www.tf1.fr/tmc/quotidien-avec-yann-barthes/videos/quotidien-premiere-partie-11-juin-2019.html',\n        'info_dict': {\n            'id': '13641379',\n            'ext': 'mp4',\n            'title': 'md5:f392bc52245dc5ad43771650c96fb620',\n            'description': 'md5:a02cdb217141fb2d469d6216339b052f',\n            'upload_date': '20190611',\n            'timestamp': 1560273989,\n            'duration': 1738,\n            'series': 'Quotidien avec Yann Barth\u00e8s',\n            'tags': ['int\u00e9grale', 'quotidien', 'Replay'],\n        },\n        'params': {\n            # Sometimes wat serves the whole file with the --test option\n            'skip_download': True,\n            'format': 'bestvideo',\n        },\n    }, {\n        'url': 'http://www.tf1.fr/tf1/koh-lanta/videos/replay-koh-lanta-22-mai-2015.html',\n        'only_matching': True,\n    }, {\n        'url': 'http://www.tf1.fr/hd1/documentaire/videos/mylene-farmer-d-une-icone.html',\n        'only_matching': True,\n    }]\n\n    def _real_extract(self, url):\n        program_slug, slug = re.match(self._VALID_URL, url).groups()\n        video = self._download_json(\n            'https://www.tf1.fr/graphql/web', slug, query={\n                'id': '9b80783950b85247541dd1d851f9cc7fa36574af015621f853ab111a679ce26f',\n                'variables': json.dumps({\n                    'programSlug': program_slug,\n                    'slug': slug,\n                })\n            })['data']['videoBySlug']\n        wat_id = video['streamId']\n\n        tags = []\n        for tag in (video.get('tags') or []):\n            label = tag.get('label')\n            if not label:\n                continue\n            tags.append(label)\n\n        decoration = video.get('decoration') or {}\n\n        thumbnails = []\n        for source in (try_get(decoration, lambda x: x['image']['sources'], list) or []):\n            source_url = source.get('url')\n            if not source_url:\n                continue\n            thumbnails.append({\n                'url': source_url,\n                'width': int_or_none(source.get('width')),\n            })\n\n        return {\n            '_type': 'url_transparent',\n            'id': wat_id,\n            'url': 'wat:' + wat_id,\n            'title': video.get('title'),\n            'thumbnails': thumbnails,\n            'description': decoration.get('description'),\n            'timestamp': parse_iso8601(video.get('date')),\n            'duration': int_or_none(try_get(video, lambda x: x['publicPlayingInfos']['duration'])),\n            'tags': tags,\n            'series': decoration.get('programLabel'),\n            'season_number': int_or_none(video.get('season')),\n            'episode_number': int_or_none(video.get('episode')),\n        }\n\n# Unit test for constructor of class TF1IE\ndef test_TF1IE():"}], "max_tokens": 200, "temperature": 0.0, "stop": ["\n# Unit test for", "\ndef ", "\nclass "]}